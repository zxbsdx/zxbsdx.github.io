import{_ as m,c as n,b as e,t as u,f as c,h as s,v as o,j as b,o as a}from"./index-Cn_XQACn.js";const f={props:{editing:{type:Boolean,default:!1},existingArticle:{type:Object,default:null}},data(){return{article:this.existingArticle||{title:"",content:"",author:"匿名",date:new Date().toISOString().slice(0,10),id:null}}},methods:{submitArticle(){this.editing||(this.article.id=Date.now()),this.article.excerpt=this.article.content.substring(0,100)+"...",this.$emit(this.editing?"article-updated":"article-created",this.article),this.editing||(this.article={title:"",content:"",author:"匿名",date:new Date().toISOString().slice(0,10),id:null}),this.$router.push(`/article/${this.article.id}`)}}},g={class:"article-editor"},h={class:"form-group"},v={class:"form-group"},x={key:0,class:"form-group"},y={class:"actions"},w={type:"submit",class:"submit-btn"};function k(p,t,r,A,l,d){return a(),n("div",g,[e("h2",null,u(r.editing?"编辑文章":"写新文章"),1),e("form",{onSubmit:t[4]||(t[4]=b((...i)=>d.submitArticle&&d.submitArticle(...i),["prevent"]))},[e("div",h,[t[5]||(t[5]=e("label",null,"标题",-1)),s(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>l.article.title=i),type:"text",required:"",placeholder:"输入文章标题"},null,512),[[o,l.article.title]])]),e("div",v,[t[6]||(t[6]=e("label",null,"内容",-1)),s(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=i=>l.article.content=i),rows:"10",required:"",placeholder:"输入文章内容（支持Markdown语法）"},null,512),[[o,l.article.content]])]),r.editing?c("",!0):(a(),n("div",x,[t[7]||(t[7]=e("label",null,"作者",-1)),s(e("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>l.article.author=i),type:"text",placeholder:"您的名字"},null,512),[[o,l.article.author]])])),e("div",y,[e("button",w,u(r.editing?"更新文章":"发布文章"),1),r.editing?(a(),n("button",{key:0,type:"button",class:"cancel-btn",onClick:t[3]||(t[3]=i=>p.$router.go(-1))}," 取消 ")):c("",!0)])],32)])}const _=m(f,[["render",k],["__scopeId","data-v-68866fb4"]]);export{_ as default};
